<!DOCTYPE html>
<html lang="en-us">

  <head>
  <!-- Canonical link to help search engines -->
  <link rel="canonical" href="/articles/texts/2016-06-15-Session1/"/>

  <!-- Basic meta elements -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>

  <!--   Dublin Core metadata for Zotero -->  
  <meta name="DC.title" content="小谈Session(1)--Session会话标识" />
  <meta name="DC.creator" content="" />
  <meta name="DC.contributor" content="" />
  <meta name="DC.date" content="" />
  <meta name="DC.rights" content="" />
  <meta name="DC.source" content="reven的文章" />
  
  <!-- Open Graph metadata -->
  <meta property="og:title" content="小谈Session(1)--Session会话标识"/>
  <meta property="og:author" content=""/>
  <meta property="og:book:release_date" content=""/>
  <meta property="og:type" content="website" />
  <meta property="og:url" content=""/>
   
  <title>
    
      小谈Session(1)--Session会话标识
    
  </title>

  <!-- CSS links -->
  <link rel="stylesheet" href="/articles/public/css/syntax.css"/>
  <link rel="stylesheet" href="/articles/public/css/ed.css"/>
 

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/articles/public/apple-touch-icon-precomposed.png"/>
  <link rel="shortcut icon" href="/articles/public/favicon.ico"/>

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/articles/atom.xml"/>
</head>


  <body>
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/articles/" title="Home">reven的文章</a>
            <br><small>我思故我在</small>
          </h3>
        </div>
      </div>

      <div class="container content" id="main">
        <div class="poetry">
  <h1 class="post-title">小谈Session(1)--Session会话标识</h1>
  <p class="citation">  2016-06-15</p>
  <p>上一篇文章中谈到Cookie，Cookie是客户端记录用户数据的，而服务端需要记录用户状态的则需要用到Session。</p>

<p>当程序需要为某个客户端的请求创建一个session的时候，服务器首先检查这个客户端的请求里是否已包含了一个session标识 - 称为sessionID，如果已包含一个sessionID则说明以前已经为此客户端创建过session，服务器就按照称为sessionID把这个session检索出来使用（如果检索不到，可能会新建一个），如果客户端请求不包含称为sessionID，则为此客户端创建一个session并且生成一个与此session相关联的称为sessionID，称为sessionID的值应该是一个既不会重复，又不容易被找到规律以仿造的字符串，这个称为sessionID将被在本次响应中返回给客户端保存。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>保存Session的方法
</code></pre>
</div>

<ul>
  <li>Cookie保存</li>
</ul>

<p>这个sessionID的方式可以采用cookie，这样在交互过程中浏览器可以自动的按照规则把这个标识发挥给服务器。一般这个cookie的名字都是类似于SEEESIONID，而。比如weblogic对于web应用程序生成的cookie，JSESSIONID=ByOK3vjFD75aPnrF7C2HmdnV6QZcEbzWoWiBYEnLerjQ99zWpBng!-145788764，它的名字就是JSESSIONID。</p>

<ul>
  <li>URL重写</li>
</ul>

<p>由于cookie可以被人为的禁止，必须有其他机制以便在cookie被禁止时仍然能够把sessionID传递回服务器。经常被使用的一种技术叫做URL重写，就是把sessionID直接附加在URL路径的后面，附加方式也有两种，一种是作为URL路径的附加信息，表现形式为http://…../xxx;jsessionid=ByOK3vjFD75aPnrF7C2HmdnV6QZcEbzWoWiBYEnLerjQ99zWpBng!-145788764 
另一种是作为查询字符串附加在URL后面，表现形式为http://…../xxx?jsessionid=ByOK3vjFD75aPnrF7C2HmdnV6QZcEbzWoWiBYEnLerjQ99zWpBng!-145788764</p>

<p>这两种方式对于用户来说是没有区别的，只是服务器在解析的时候处理的方式不同，采用第一种方式也有利于把sessionID的信息和正常程序参数区分开来。 
为了在整个交互过程中始终保持状态，就必须在每个客户端可能请求的路径后面都包含这个sessionID。</p>

</div>
      </div>
    </div>
  </body>
</html>
